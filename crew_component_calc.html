<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crew Pack and Cost Basis Estimator</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="crew_component_calc.css">
</head>
<body>
    <div class="container">
        <h1>Crew Packs and Cost Basis Estimator</h1>
        <form id="ship-form">
            <label for="ship-type">Select Ship or Pack:</label>
            <select id="ship-type" required>
                <!-- Ship options will be populated dynamically -->
            </select>
            <br><br>
            <label for="number-of-ships">Number of Ships or Packs:</label>
            <input type="number" id="number-of-ships" min="1" max="10000" required>
            <br><br>
            <div class="button-container">
                <button id="add-ship-btn"  type="submit">Add Ship or Pack</button>
                <button id="download-btn" type="button"  style="display:none;" onclick="downloadResults()">Download Crew Pack Results</button>
                <button id="reset-btn" type="button" onclick="resetData()">Reset Data</button> <!-- New Reset Data button -->
            </div>    
        </form>        
        <div class="table-container">
            <h2>Crew Pack Results</h2>
            <table id="results-table">
                <thead>
                    <tr>
                        <th>Ship/Pack Name</th>
                        <th>Class</th>
                        <th>Rarity</th>
                        <th># Ships/Packs</th>
                        <th>Silver</th>
                        <th>Gold</th>
                        <th>Platinum</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Results will be populated dynamically -->
                </tbody>
                <tfoot>
                    <tr class="total-row">
                        <td colspan="3">Total</td>
                        <td id="total-ships" class="numeric">0</td>
                        <td id="total-silver" class="numeric">0</td>
                        <td id="total-gold" class="numeric">0</td>
                        <td id="total-platinum" class="numeric">0</td>
                    </tr>
                </tfoot>
            </table>
        </div>

        <!-- Table for CREW Member Estimates -->
        <div class="table-container">
            <h2>Estimated Crew Members and Cost</h2>
            <table id="crew-estimates-table">
                <thead>
                    <tr>
                        <th>Rarity</th>
                        <th>Estimated Crew Members</th>
                        <th>Cost Basis</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Common</td>
                        <td id="common-result" class="numeric">0</td>
                        <td id="common-cost" class="numeric">0</td> <!-- New Cost Basis cell -->
                    </tr>
                    <tr>
                        <td>Uncommon</td>
                        <td id="uncommon-result" class="numeric">0</td>
                        <td id="uncommon-cost" class="numeric">0</td> <!-- New Cost Basis cell -->
                    </tr>
                    <tr>
                        <td>Rare</td>
                        <td id="rare-result" class="numeric">0</td>
                        <td id="rare-cost" class="numeric">0</td> <!-- New Cost Basis cell -->
                    </tr>
                    <tr>
                        <td>Epic</td>
                        <td id="epic-result" class="numeric">0</td>
                        <td id="epic-cost" class="numeric">0</td> <!-- New Cost Basis cell -->
                    </tr>
                    <tr>
                        <td>Legendary</td>
                        <td id="legendary-result" class="numeric">0</td>
                        <td id="legendary-cost" class="numeric">0</td> <!-- New Cost Basis cell -->
                    </tr>
                    <tr>
                        <td>Anomaly</td>
                        <td id="anomaly-result" class="numeric">0</td>
                        <td id="anomaly-cost" class="numeric">0</td> <!-- New Cost Basis cell -->
                    </tr>
                </tbody>
            </table>
        </div>        
    </div>

    <div class="fixed-table-container">
        <h2>Cost Basis Information</h2>
        <table class="fixed-table">
            <thead>
                <tr>
                    <th>Crew Card Rarity</th>
                    <th>Silver Pack Cost per Crew**</th>
                    <th>Gold Pack Cost per Crew**</th>
                    <th>Platinum Pack Cost per Crew**</th>
                    <th>Estimated Market Value**</th>
                    <th>Estimated Midpoint FMV*</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Common</td>
                    <td>$5.77</td>
                    <td>N/A</td>
                    <td>N/A</td>
                    <td>$5.77</td>
                    <td>$5.08</td>
                </tr>
                <tr>
                    <td>Uncommon</td>
                    <td>$57.73</td>
                    <td>$8.64</td>
                    <td>N/A</td>
                    <td>$8.64 - $57.73</td>
                    <td>$8.16</td>
                </tr>
                <tr>
                    <td>Rare</td>
                    <td>$115.47</td>
                    <td>$86.42</td>
                    <td>$11.10</td>
                    <td>$11.10 - $115.47</td>
                    <td>$13.39</td>
                </tr>
                <tr>
                    <td>Epic</td>
                    <td>$1,162.79</td>
                    <td>$172.81</td>
                    <td>$111.03</td>
                    <td>$111.03 - $1,162.79</td>
                    <td>$114.19***</td>
                </tr>
                <tr>
                    <td>Legendary</td>
                    <td>$55,555.56</td>
                    <td>$5,769.23</td>
                    <td>$1,109.87</td>
                    <td>$1,109.87 - $55,555.56</td>
                    <td>$214.99</td>
                </tr>
                <tr>
                    <td>Anomaly</td>
                    <td>$11,627,906.98</td>
                    <td>$1,744,186.05</td>
                    <td>$222,222.22</td>
                    <td>$222,222.22 - $11,627,906.98</td>
                    <td>$3505.00</td>
                </tr>
            </tbody>
        </table>
        <div class="footnotes">
            <p>*Estimated Midpoint FMV is calculated by averaging the ask and bid prices. This snapshot was taken on August 10, 2024, at approximately 6:45 AM PST from the Star Atlas Marketplace.</p>
            <p>**The Estimated Market Value and Cost per Crew are calculated based on Crew Pack costs and probabilities.</p>
            <p>***No market data is available for Epic crew cards. The Estimated Midpoint FMV is based on a simple average of adjacent rarities where direct market data is available.</p>
        </div>
    </div>    

     <!-- Fixed position 'Return to Home' button -->
     <a href="index.html" class="fixed-return-button">Home</a>

    <script src="crew_component_calc.js"></script>
</body>
</html>